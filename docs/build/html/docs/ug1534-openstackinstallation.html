


<!DOCTYPE HTML>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
	<head>
		<meta charset="utf-8">
		<meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

		<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
		<link rel="stylesheet" href="https://static.cloud.coveo.com/searchui/v2.4382/css/CoveoFullSearch.css"/>
		<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<meta name="description"/>
		<meta name="keywords"/>
		<meta property="og:title" content=""/>
		<meta property="og:description"/>
		<!-- favicon -->
		<link rel="icon" type="image/vnd.microsoft.icon" href="../_static/favicon.ico"/>
		<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="../_static/favicon.ico"/>
		<!-- Fonts -->
		<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet" type="text/css"/>

	<!-- OneTrust Cookies Consent Notice start for xilinx.github.io -->
<script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-document-language="true" type="text/javascript" charset="UTF-8" data-domain-script="37701bd4-e5c0-4ee3-9329-e7475d0b13a7" ></script>
<script type="text/javascript">
function OptanonWrapper() { }
</script>
<!-- OneTrust Cookies Consent Notice end for xilinx.github.io -->
		<!-- Google Tag Manager -->
	<script type="text/plain" class="optanon-category-C0002">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
	new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-5RHQV7');</script>
	<!-- End Google Tag Manager -->
	
        <!-- Google Tag Manager -->
        <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5RHQV7" height="0" width="0" style="display:none;visibility:hidden" class="optanon-category-C0002"></iframe></noscript>
        <!-- End Google Tag Manager -->	

  
  
  
  

  
      <script type="text/javascript" src="../_static/js/jquery.min.js"></script>
	  <script type="text/javascript" src="../_static/js/gtm.js"></script>
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
    <script type="text/javascript" src="../_static/js/d3dd8c60ed.js"></script>
    <script type="text/javascript" src="../_static/js/common-ui-all.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-ui.min.js"></script>
    <script type="text/javascript" src="../_static/js/CoveoJsSearch.Lazy.min.js"></script>
    <script type="text/javascript" src="../_static/js/linkid.js"></script>
    <script type="text/javascript" src="../_static/js/Searchbox.min.js"></script>
    <script type="text/javascript" src="../_static/js/header-footer.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/common-ui-all.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/header-footer.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/pro.min.css" media="all" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="APPENDIX B VM Installation" href="ug1534-vminstall.html" /> 
	</head>
	<body>
		<div class="xilinx-bs3"/>
		<div class="root responsivegrid">
			<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 aem-Grid--large--16 aem-Grid--xlarge--16 aem-Grid--xxlarge--16 aem-Grid--xxxlarge--16 ">
 <div class="xilinxExperienceFragments experiencefragment aem-GridColumn aem-GridColumn--default--12">

    
    

    



<div class="xf-content-height">
    

<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
    
    <div class="header parbase aem-GridColumn aem-GridColumn--default--12"><noindex>
	<header data-component="header" class="site-header">
		<nav class="navbar navbar-default">
			<div class="container-fluid main-nav">
				<div class="row">
					<div class="navbar-column col-xs-4 col-sm-5">
						<ul class="nav navbar-nav hidden-xs">
							<li>
									<button onclick="window.location.href=&#39;https://www.xilinx.com/applications.html&#39;;">Solutions</button>
								</li>
							<li>
									<button onclick="window.location.href=&#39;https://www.xilinx.com/products/silicon-devices.html&#39;;">Products</button>
								</li>
							<li>
									<button onclick="window.location.href=&#39;https://www.xilinx.com/about/company-overview.html&#39;;">Company</button>
								</li>
							</ul>
							
						<ul class="nav navbar-nav hidden-sm hidden-md hidden-lg">
							<li>
									<button data-target="#header-container-0" data-function="toggle">Solutions</button>
								</li>
							<li>
									<button data-target="#header-container-1" data-function="toggle">Products</button>
								</li>
							<li>
									<button data-target="#header-container-2" data-function="toggle">Company</button>
								</li>
							</ul>
							
						<div id="header-container-0" class="menu-container">
								<div class="navbar-nav-container">
									<ul class="nav navbar-nav">
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/applications.html&#39;;">Solutions</button>
												</li>
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/products/silicon-devices.html&#39;;">Products</button>
												</li>
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/about/company-overview.html&#39;;">Company</button>
												</li>
										</ul>
									<button data-function="close-menu">
										<span class="fal fa-times" aria-hidden="true"></span>
									</button>
								</div>
							</div>
							<div id="header-container-1" class="menu-container">
								<div class="navbar-nav-container">
									<ul class="nav navbar-nav">
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/applications.html&#39;;">Solutions</button>
												</li>
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/products/silicon-devices.html&#39;;">Products</button>
												</li>
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/about/company-overview.html&#39;;">Company</button>
												</li>
										</ul>
									<button data-function="close-menu">
										<span class="fal fa-times" aria-hidden="true"></span>
									</button>
								</div>
							</div>
							<div id="header-container-2" class="menu-container">
								<div class="navbar-nav-container">
									<ul class="nav navbar-nav">
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/applications.html&#39;;">Solutions</button>
												</li>
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/products/silicon-devices.html&#39;;">Products</button>
												</li>
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/about/company-overview.html&#39;;">Company</button>
												</li>
										</ul>
									<button data-function="close-menu">
										<span class="fal fa-times" aria-hidden="true"></span>
									</button>
								</div>
							</div>
							</div>
					<div class="logo-column col-xs-4 col-sm-2">
						<div class="logo">
							<a target="_blank" href="https://www.xilinx.com/">
								<img src="https://github.com/Xilinx/Image-Collateral/blob/main/xilinx-header-logo.svg?raw=true" title="Xilinx Inc"/>
							</a>
						</div>
					</div>

				</div>
			</div>
			</nav></header></noindex></div>
		
	
</div>

    
</div>
</div>

<div class="calloutBanner parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16"><div class="callout-banner">
    Xilinx is now a part of <a target="_blank" href="https://www.amd.com/en/corporate/xilinx-acquisition">AMD</a> |  <a target="_blank" href="https://www.amd.com/en/corporate/privacy">Learn More</a>
</div>
</div>
				<div class="parsys aem-GridColumn--xxxlarge--none aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
						<div class="container-fluid">
							<div class="row">
							<div class="col-xs-12">
   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> U25N
          

          
          </a>

          
            
            
              <div class="version">
                1.8
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

      
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
            
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">U25N</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="ug1534-introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="ug1534-supportedservices.html">Supported Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="ug1534-installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="ug1534-detailedappsdescriptions.html">Detailed Applications Descriptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="ug1534-dpdk.html">DPDK compilation steps</a></li>
<li class="toctree-l1"><a class="reference internal" href="ug1534-shellprogramming.html">APPENDIX A U25N Shell Programming</a></li>
<li class="toctree-l1"><a class="reference internal" href="ug1534-vminstall.html">APPENDIX B VM Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">APPENDIX C OpenStack Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#hardware-requirements-and-u25n-installation">1. Hardware Requirements and U25N Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#software-requirements">2. Software Requirements</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#openstack-releases">2.1 OpenStack Releases</a></li>
<li class="toctree-l3"><a class="reference internal" href="#os-versions">2.2 OS versions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#openstack-deployment-tool">2.3 OpenStack Deployment Tool</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#openstack-installation">3. OpenStack Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#grub-configuration">3.1 Grub Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#add-stack-user-optional">3.2 Add Stack User (optional)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#download-devstack">3.3 Download DevStack</a></li>
<li class="toctree-l3"><a class="reference internal" href="#update-devstack-configuration">3.4 Update DevStack Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#u25n-open-vswitch-hardware-offload">3.5 U25N Open vSwitch Hardware Offload</a></li>
<li class="toctree-l3"><a class="reference internal" href="#launch-vm-instance">3.6 Launch VM instance</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#openstack-configuration-sample">4 OpenStack Configuration Sample</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Download Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/Xilinx/U25N-SmartNIC-Solution/blob/gh-pages/docs/build/pdf/ug1534-u25n-smartnic-user-guide.pdf">PDF</a></li>
</ul>

            
			
			<p class="caption"><span class="caption-text">This Page</span></p>
				<ul class="current">
				  <li class="toctree-l1"><a href="../_sources/docs/ug1534-openstackinstallation.md.txt"
						rel="nofollow">Show Source</a></li>
				</ul>
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">U25N</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>APPENDIX C OpenStack Installation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/docs/ug1534-openstackinstallation.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="appendix-c-openstack-installation">
<h1>APPENDIX C OpenStack Installation<a class="headerlink" href="#appendix-c-openstack-installation" title="Permalink to this heading">¶</a></h1>
<p><a class="reference external" href="https://www.openstack.org/">OpenStack</a> supports Open vSwitch <a class="reference external" href="https://docs.openstack.org/neutron/zed/admin/config-ovs-offload.html">hardware offloading</a>. OpenStack Networking can integrate U25N’s Open vSwitch hardware offloading feature to accelerate network processing.</p>
<p>This section describes the steps of setup OpenStack with U25N Open vSwitch hardware offloading support.</p>
<section id="hardware-requirements-and-u25n-installation">
<h2>1. Hardware Requirements and U25N Installation<a class="headerlink" href="#hardware-requirements-and-u25n-installation" title="Permalink to this heading">¶</a></h2>
<p>In this section, two servers with U25N installed are required. One server node acts as conntroller + compute node. Another server node acts as a compute node.</p>
<p><img alt="OpenStack Setup" src="../_images/openstack_LowRes.png" /></p>
<p>Please refer to <a class="reference external" href="./ug1534-installation.html#u25N-installation">U25N Installation Guide</a> for U25N and server configuration.</p>
</section>
<section id="software-requirements">
<h2>2. Software Requirements<a class="headerlink" href="#software-requirements" title="Permalink to this heading">¶</a></h2>
<section id="openstack-releases">
<h3>2.1 OpenStack Releases<a class="headerlink" href="#openstack-releases" title="Permalink to this heading">¶</a></h3>
<p>OpenStack has multiple releases from <a class="reference external" href="https://releases.openstack.org/austin/index.html">Austin</a> to <a class="reference external" href="https://releases.openstack.org/zed/index.html">Zed</a>. In this document, version Zed is used as an example and tested.</p>
</section>
<section id="os-versions">
<h3>2.2 OS versions<a class="headerlink" href="#os-versions" title="Permalink to this heading">¶</a></h3>
<p>Ubuntu 22.04 is used as an example and tested in this installation guide.</p>
<p>Below Linux kernel versions are tested.</p>
<ul class="simple">
<li><p>5.15.0-52-generic</p></li>
<li><p>5.15.0-46-generic</p></li>
</ul>
</section>
<section id="openstack-deployment-tool">
<h3>2.3 OpenStack Deployment Tool<a class="headerlink" href="#openstack-deployment-tool" title="Permalink to this heading">¶</a></h3>
<p>Due to the complexity of OpenStack installation, OpenStack deployment tools document lists some deployment tools. Some OS distributions also have their own deployment tools. For example, Ubuntu has Microstack.</p>
<p>In this section, <a class="reference external" href="https://docs.openstack.org/devstack/latest/">DevStack</a> is used for the OpenStack deployment. All the configurations for using U25N in OpenStack environment are through standard Nova, Neutron config files. After installation complete, the same configuration files, e.g. /etc/neutron/neutron.conf, /etc/neutron/plugins/ml2/ml2_conf.ini, /etc/nova/nova.conf, /etc/nova/nova-cpu.conf, etc will be used for the following configurations.</p>
</section>
</section>
<section id="openstack-installation">
<h2>3. OpenStack Installation<a class="headerlink" href="#openstack-installation" title="Permalink to this heading">¶</a></h2>
<section id="grub-configuration">
<h3>3.1 Grub Configuration<a class="headerlink" href="#grub-configuration" title="Permalink to this heading">¶</a></h3>
<p><strong><em>Note</em>:</strong> Grub configuration should be done on both Controller + Compute node and Compute node</p>
<p>To enable the U25N VF passthrough into the VM instance, it is required to enable IOMMU.</p>
<ol>
<li><p>Open /etc/default/grub in the editor</p></li>
<li><p>Modify the line of GRUB_CMDLINE_LINUX_DEFAULT to enable IOMMU</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span># For Intel platform:
GRUB_CMDLINE_LINUX_DEFAULT=&quot;iommu=pt intel_iommu=on pci=realloc”
# For AMD platform:
GRUB_CMDLINE_LINUX_DEFAULT=&quot;iommu=pt amd_iommu=on pci=realloc”
</pre></div>
</div>
</li>
<li><p>Update Grub</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sudo update-grub2
</pre></div>
</div>
</li>
</ol>
</section>
<section id="add-stack-user-optional">
<h3>3.2 Add Stack User (optional)<a class="headerlink" href="#add-stack-user-optional" title="Permalink to this heading">¶</a></h3>
<p><strong><em>Note</em>:</strong> Adding stack user should be done on both Controller + Compute node and Compute node</p>
<p>Below setup uses non-root user <strong>stack</strong> with sudo enabled. The password is set to “nomoresecret” as shown in the following DevStack configuration file.</p>
<p><strong><em>Note</em>:</strong> Please refer to <a class="reference external" href="https://docs.openstack.org/devstack/latest/">DevStack Documentation</a> for more details.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sudo useradd -s /bin/bash -d /opt/stack -m stack
$ sudo chmod +x /opt/stack
$ <span class="nb">echo</span> <span class="s2">&quot;stack ALL=(ALL) NOPASSWD: ALL&quot;</span> <span class="p">|</span> sudo tee /etc/sudoers.d/stack
$ sudo -u stack -i
$ passwd
Enter new UNIX password: nomoresecret
Retype new UNIX password: nomoresecret
passwd: password updated successfully
</pre></div>
</div>
</section>
<section id="download-devstack">
<h3>3.3 Download DevStack<a class="headerlink" href="#download-devstack" title="Permalink to this heading">¶</a></h3>
<p><strong><em>Note</em>:</strong> DevStack should be downloaded and installed on both Controller + Compute node and Compute node</p>
<p>Download DevStack release zed from Git repository.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git clone https://opendev.org/openstack/devstack -b stable/zed
</pre></div>
</div>
</section>
<section id="update-devstack-configuration">
<h3>3.4 Update DevStack Configuration<a class="headerlink" href="#update-devstack-configuration" title="Permalink to this heading">¶</a></h3>
<p><strong><em>Note</em>:</strong> DevStack configuration should be modified on both Controller + Compute node and Compute node</p>
<ol>
<li><p>Copy devstack/sample/local.conf to devstack/ and then add below lines</p>
<p>For server 1 (Controller + Compute Node),</p>
<ul>
<li><p>Modify below lines in the local.conf</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>DATABASE_PASSWORD=$ADMIN_PASSWORD
RABBIT_PASSWORD=$ADMIN_PASSWORD
</pre></div>
</div>
</li>
<li><p>Add below lines in the local.conf</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>disable_service n-net
enable_service q-svc
enable_service q-agt
enable_service q-dhcp
enable_service q-meta
enable_service neutron

HOST_IP=&lt;server 1&#39;s IP&gt; # The IP you ssh to this node
PUBLIC_INTERFACE=u25eth0
PUBLIC_NETWORK_GATEWAY=192.168.2.1 # The network u25N attached
FLOATING_RANGE=192.168.2.0/24
Q_FLOATING_ALLOCATION_POOL=start=192.168.2.2,end=192.168.2.254

Q_USE_PROVIDERNET_FOR_PUBLIC=True
PUBLIC_PHYSICAL_NETWORK=public
OVS_BRIDGE_MAPPINGS=public:br-ex
OVS_ENABLE_TUNNELING=True

Q_PLUGIN=ml2
Q_AGENT=openvswitch
Q_L3_ROUTER_PER_TENANT=True
Q_ML2_TENANT_NETWORK_TYPE=vxlan
Q_ML2_PLUGIN_TYPE_DRIVERS=flat,vxlan
Q_ML2_PLUGIN_VXLAN_TYPE_OPTIONS=(vni_ranges=1001:2000)
Q_ML2_PLUGIN_MECHANISM_DRIVERS=openvswitch,l2population

IP_VERSION=4
</pre></div>
</div>
</li>
</ul>
<p>For server 2 (Compute Node),</p>
<ul>
<li><p>Modify below lines in the local.conf</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>DATABASE_PASSWORD=$ADMIN_PASSWORD
RABBIT_PASSWORD=$ADMIN_PASSWORD
</pre></div>
</div>
</li>
<li><p>Add below lines in the local.conf</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>RABBIT_PASSWORD=$ADMIN_PASSWORD

HOST_IP=&lt;server 2&#39;s IP&gt; # The IP you ssh to this node
SERVICE_HOST=&lt;server 1&#39;s IP&gt;

MYSQL_HOST=$SERVICE_HOST
RABBIT_HOST=$SERVICE_HOST
GLANCE_HOSTPORT=$SERVICE_HOST:9292
KEYSTONE_AUTH_HOST=$SERVICE_HOST
KEYSTONE_SERVICE_HOST=$SERVICE_HOST

PHYSICAL_NETWORK=default
OVS_PHYSICAL_BRIDGE=br-ex
PUBLIC_INTERFACE=u25eth0
Q_USE_PROVIDER_NETWORKING=True
PUBLIC_NETWORK_GATEWAY=192.168.2.2
Q_AGENT=openvswitch
NEUTRON_AGENT=$Q_AGENT
Q_ML2_PLUGIN_MECHANISM_DRIVERS=openvswitch,l2population
Q_ML2_TENANT_NETWORK_TYPE=vxlan
Q_ML2_PLUGIN_TYPE_DRIVERS=flat,vxlan
Q_ML2_PLUGIN_VXLAN_TYPE_OPTIONS=(vni_ranges=1001:2000)
ENABLED_SERVICES=n-cpu,rabbit,q-agt,placement-client,n-novnc
</pre></div>
</div>
</li>
</ul>
</li>
<li><p>Copy devstack/sample/local.sh to devstack/ and comment out below lines</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>#    openstack security group rule create $default --protocol tcp --dst-port 22
#    openstack security group rule create $default --protocol icmp
</pre></div>
</div>
</li>
<li><p>Comment below lines in devstack/lib/neturon-legacy</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>#    ARP_CMD=&quot;sudo arping -A -c 3 -w 5 -I $to_intf $IP &quot;
</pre></div>
</div>
</li>
<li><p>Assign tunnel Endpoint IP to U25N PF interface</p>
<p><strong><em>Note</em>:</strong> Here using U25N’s PF0 as a public interface.</p>
<ul class="simple">
<li><p>For server 1 (Controller + Compute Node), the TUNNEL_LOCAL_IP is 192.168.2.1 as configured in above local.conf.</p></li>
<li><p>For server 2 (Compute Node), the TUNNEL_LOCAL_IP is 192.168.2.2 as configured in above local.conf.</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ip addr add <span class="si">${</span><span class="nv">TUNNEL_LOCAL_IP</span><span class="si">}</span>/24 dev u25eth0
$ ip link <span class="nb">set</span> dev u25eth0 up
</pre></div>
</div>
</li>
<li><p>Then, run stack.sh to install DevStack.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./stack.sh
</pre></div>
</div>
</li>
</ol>
</section>
<section id="u25n-open-vswitch-hardware-offload">
<h3>3.5 U25N Open vSwitch Hardware Offload<a class="headerlink" href="#u25n-open-vswitch-hardware-offload" title="Permalink to this heading">¶</a></h3>
<p><strong><em>Note</em>:</strong> U25N offload should be configured on both Controller + Compute node and Compute node</p>
<p>Before configuring OpenStack Nova and Neutron configuration files, Virtual Functions of U25N need to be created.</p>
<ul>
<li><p>Download OVS bit file on U25N
Please refer to <a class="reference external" href="./ug1534-installation.html#u25N-installation">U25N Installation Guide</a> for how to <a class="reference external" href="./ug1534-installation.html#U25N-Driver">install the U25N driver</a>, <a class="reference external" href="./ug1534-installation.html#Deployment-Image-Flashing">flash deployment image</a>, <a class="reference external" href="./ug1534-installation.html#Loading-Partial-Bitstream-into-Deployment-Shell">load OVS partial Bitstream</a>.</p>
<p>Program the OVS bitstream.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set U25N in legacy mode</span>
devlink dev eswitch <span class="nb">set</span> pci/<span class="si">${</span><span class="nv">PCIE_BUS</span><span class="si">}</span> mode legacy

<span class="c1"># Make sure the network ports are up</span>
ip link <span class="nb">set</span> dev u25eth0 up
ip link <span class="nb">set</span> dev u25eth1 up

<span class="c1"># Program the deployment shell</span>
U25N_Release/utils/u25n_update upgrade U25N_Release/bits/ovs.bit u25eth0

sleep <span class="m">5</span>

<span class="c1"># Reset hardware to boot from updated deployment shell</span>
U25N_Release/utils/u25n_update reset u25eth0

<span class="c1"># Get deployment shell version</span>
U25N_Release/utils/u25n_update get-version u25eth0
</pre></div>
</div>
</li>
<li><p>Stop all service of OpenStack</p>
<p><strong><em>Note</em>:</strong> This step is required only afer power cycle or reboot.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ systemctl stop devstack@*
</pre></div>
</div>
</li>
<li><p>Stop Network Manager</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ systemctl stop NetworkManager
</pre></div>
</div>
</li>
<li><p>Enable U25N’s Virtual Function, for this setup, NUM_VF is 1.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Enable 1 VFs on PF 1, they could be used for VM-to-port or VM-to-VM use cases.</span>
<span class="nb">echo</span> <span class="si">${</span><span class="nv">NUM_VF</span><span class="si">}</span> &gt; /sys/class/net/u25eth0/device/sriov_numvfs

<span class="c1"># Make sure the network ports are up</span>
ip link <span class="nb">set</span> dev u25eth0 up
ip link <span class="nb">set</span> dev u25eth1 up

<span class="c1"># Set both ports in switchdev for OVS</span>
sleep <span class="m">5</span>
devlink dev eswitch <span class="nb">set</span> pci/0000:<span class="si">${</span><span class="nv">PCIE_BUS</span><span class="si">}</span>:00.0 mode switchdev
sleep <span class="m">5</span>
devlink dev eswitch <span class="nb">set</span> pci/0000:<span class="si">${</span><span class="nv">PCIE_BUS</span><span class="si">}</span>:00.1 mode switchdev
sleep <span class="m">1</span>
</pre></div>
</div>
</li>
<li><p>Configure Open vSwitch hardware offload</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Export paths</span>
<span class="nb">export</span> <span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:/usr/local/share/openvswitch/scripts
<span class="nb">export</span> <span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:/usr/local/bin

<span class="c1"># Enable VFs</span>
ip link <span class="nb">set</span> dev <span class="si">${</span><span class="nv">VF_0</span><span class="si">}</span> up

<span class="c1"># Enable VF Representors</span>
ip link <span class="nb">set</span> dev <span class="si">${</span><span class="nv">VF_RP_0</span><span class="si">}</span> up

<span class="c1"># Enable hardware offload</span>
ovs-vsctl <span class="nb">set</span> Open_vSwitch . other_config:hw-offload<span class="o">=</span><span class="nb">true</span>
ovs-vsctl <span class="nb">set</span> Open_vSwitch . other_config:tc-policy<span class="o">=</span>none
</pre></div>
</div>
</li>
<li><p>Modify local IP in /etc/neutron/plugin/ml2/ml2_conf.ini on each nodes</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span># Server 1 (Controller + Compute Node)
local_ip = 192.168.2.1 
# Server 2 (Compute Node)
local_ip = 192.168.2.2
</pre></div>
</div>
</li>
<li><p>Update /etc/nova/nova.conf on Controller node</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>[filter_scheduler]
enabled_filters = PciPassthroughFilter
available_filters = nova.scheduler.filters.all_filters
</pre></div>
</div>
</li>
<li><p>Update /etc/nova/nova.conf on Compute nodes.</p>
<p><strong><em>Note</em>:</strong> If using single server for both Controller and Compute nodes, this config file is /etc/nova/nova-cpu.conf.</p>
<p><strong><em>Note</em>:</strong> Below af:00 is the Buss:Device of the U25N.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>[pci]
passthrough_whitelist = {&quot;address&quot;:&quot;:af:00.&quot;, &quot;physical_network&quot;:null}
</pre></div>
</div>
</li>
<li><p>Restart Open vSwitch service</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ systemctl restart openvswitch-switch.service
</pre></div>
</div>
</li>
<li><p>Start all OpenStack services</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ systemctl start devstack@* --all
$ systemctl status devstack@*  <span class="c1"># Check the status of services</span>
</pre></div>
</div>
</li>
<li><p>Dump the OVS bridge information on both nodes and remove unused interface in br-ex</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ovs-vsctl show
2f120f0a-fa48-4779-8e75-4915cf4044cc
Manager <span class="s2">&quot;ptcp:6640:127.0.0.1&quot;</span>
    is_connected: <span class="nb">true</span>
Bridge br-ex
    Controller <span class="s2">&quot;tcp:127.0.0.1:6633&quot;</span>
        is_connected: <span class="nb">true</span>
    fail_mode: secure
    datapath_type: system
    Port phy-br-ex
        Interface phy-br-ex
            type: patch
            options: <span class="o">{</span><span class="nv">peer</span><span class="o">=</span>int-br-ex<span class="o">}</span>
    Port br-ex
        Interface br-ex
            type: internal
Bridge br-int
    Controller <span class="s2">&quot;tcp:127.0.0.1:6633&quot;</span>
        is_connected: <span class="nb">true</span>
    fail_mode: secure
    datapath_type: system
    Port int-br-ex
        Interface int-br-ex
            type: patch
            options: <span class="o">{</span><span class="nv">peer</span><span class="o">=</span>phy-br-ex<span class="o">}</span>
    Port br-int
        Interface br-int
            type: internal
    Port u25eth0_1
        tag: <span class="m">2</span>
        Interface u25eth0_1
    Port patch-tun
        Interface patch-tun
            type: patch
            options: <span class="o">{</span><span class="nv">peer</span><span class="o">=</span>patch-int<span class="o">}</span>
Bridge br-tun
    Controller <span class="s2">&quot;tcp:127.0.0.1:6633&quot;</span>
        is_connected: <span class="nb">true</span>
    fail_mode: secure
    datapath_type: system
    Port br-tun
        Interface br-tun
            type: internal
    Port vxlan-c0a80201
        Interface vxlan-c0a80201
            type: vxlan
            options: <span class="o">{</span><span class="nv">df_default</span><span class="o">=</span><span class="s2">&quot;true&quot;</span>, <span class="nv">in_key</span><span class="o">=</span>flow, <span class="nv">local_ip</span><span class="o">=</span><span class="s2">&quot;192.168.2.2&quot;</span>, <span class="nv">out_key</span><span class="o">=</span>flow, <span class="nv">remote_ip</span><span class="o">=</span><span class="s2">&quot;192.168.2.1&quot;</span><span class="o">}</span>
    Port patch-int
        Interface patch-int
            type: patch
            options: <span class="o">{</span><span class="nv">peer</span><span class="o">=</span>patch-tun<span class="o">}</span>
ovs_version: <span class="s2">&quot;2.17.3&quot;</span>
</pre></div>
</div>
<p>If u25eth is attached in Bridge br-ex, please remove it by below command.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ovs-vsctl del-port br-ex u25eth0
</pre></div>
</div>
</li>
</ul>
</section>
<section id="launch-vm-instance">
<h3>3.6 Launch VM instance<a class="headerlink" href="#launch-vm-instance" title="Permalink to this heading">¶</a></h3>
<p><strong><em>Note</em>:</strong> Launching VM instannce requires to use openstack command line tool and only need to run it from the Controller + Compute node.</p>
<ul>
<li><p>Source openrc to use OpenStack command line tool on Controller node</p>
<p>Source openrc in the shell, and then use the openstack command line tool to manage your OpenStack.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  ```bash
  $ cd devstack/
  $ source openrc admin
  ```
</pre></div>
</div>
</li>
<li><p>Prepare Cloud VM image</p>
<p>In this instruction, <a class="reference external" href="https://cloud-images.ubuntu.com/">Ubuntu Cloud image</a> is used as the VM image.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> ```bash
 # Install necessary packeges for VM support. Most of them should already been installed during DevStack installation
 $ apt install -y libvirt-clients qemu-kvm libvirt-daemon-system bridge-utils virtinst cloud-image-utils libguestfs-tools

 # Validate the host for virtualzation support
 $ virt-host-validate
 $ systemctl status libvirtd

 # Create VM image and set root password as &quot;root&quot;
 $ virt-builder ubuntu-20.04 --install &quot;linux-modules-extra-`uname -r`&quot; --format qcow2 --output ubuntu.qcow2 --root-password password:root
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</li>
<li><p>Add Cloud VM image to OpenStack</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create OpenStack image</span>
$ openstack image create --disk-format qcow2 --file ubuntu.qcow2 ubuntu
</pre></div>
</div>
</li>
<li><p>Create two direct ports for U25N’s VF on the private network</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ openstack port create --network private --vnic-type<span class="o">=</span>direct --binding-profile <span class="s1">&#39;{&quot;capabilities&quot;: [&quot;switchdev&quot;]}&#39;</span> direct_port1
$ openstack port create --network private --vnic-type<span class="o">=</span>direct --binding-profile <span class="s1">&#39;{&quot;capabilities&quot;: [&quot;switchdev&quot;]}&#39;</span> direct_port2
</pre></div>
</div>
</li>
<li><p>Create two VM instances with direct port attached</p>
<p>To make one VM instance per each node, host server is specified in the OpenStack server creation command.</p>
<ul>
<li><p>Get host name by list available Compute host</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ openstack compute service list
+--------------------------------------+----------------+---------+----------+---------+-------+----------------------------+
<span class="p">|</span> ID                                   <span class="p">|</span> Binary         <span class="p">|</span> Host    <span class="p">|</span> Zone     <span class="p">|</span> Status  <span class="p">|</span> State <span class="p">|</span> Updated At                 <span class="p">|</span>
+--------------------------------------+----------------+---------+----------+---------+-------+----------------------------+
<span class="p">|</span> 53b216ed-3b68-4187-bc43-5d8156a666e8 <span class="p">|</span> nova-scheduler <span class="p">|</span> server1 <span class="p">|</span> internal <span class="p">|</span> enabled <span class="p">|</span> up    <span class="p">|</span> <span class="m">2023</span>-01-12T01:52:31.000000 <span class="p">|</span>
<span class="p">|</span> 3e97f027-3320-4a73-aed4-3c08aa06b5f1 <span class="p">|</span> nova-conductor <span class="p">|</span> server1 <span class="p">|</span> internal <span class="p">|</span> enabled <span class="p">|</span> up    <span class="p">|</span> <span class="m">2023</span>-01-12T01:52:33.000000 <span class="p">|</span>
<span class="p">|</span> 8afa5295-03f0-4de4-9f3f-0c63db719bc1 <span class="p">|</span> nova-conductor <span class="p">|</span> server1 <span class="p">|</span> internal <span class="p">|</span> enabled <span class="p">|</span> up    <span class="p">|</span> <span class="m">2023</span>-01-12T01:52:33.000000 <span class="p">|</span>
<span class="p">|</span> 21b79147-ef60-4d6a-bd4c-0cc26e1b6420 <span class="p">|</span> nova-compute   <span class="p">|</span> server1 <span class="p">|</span> nova     <span class="p">|</span> enabled <span class="p">|</span> up    <span class="p">|</span> <span class="m">2023</span>-01-12T01:52:34.000000 <span class="p">|</span>
<span class="p">|</span> <span class="m">95502539</span>-446e-4d7c-bda5-4c9796ef66d0 <span class="p">|</span> nova-compute   <span class="p">|</span> server2 <span class="p">|</span> nova     <span class="p">|</span> enabled <span class="p">|</span> up    <span class="p">|</span> <span class="m">2023</span>-01-12T01:52:27.000000 <span class="p">|</span>
+--------------------------------------+----------------+---------+----------+---------+-------+----------------------------+
</pre></div>
</div>
</li>
<li><p>Besides the compute server list, check the hypervisor to make sure both server’s hypervisor are detected by OpenStack</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ openstack hypervisor list
+----+---------------------------+-----------------+---------------+-------+
<span class="p">|</span> ID <span class="p">|</span> Hypervisor Hostname       <span class="p">|</span> Hypervisor Type <span class="p">|</span> Host IP       <span class="p">|</span> State <span class="p">|</span>
+----+---------------------------+-----------------+---------------+-------+
<span class="p">|</span>  <span class="m">1</span> <span class="p">|</span> server1                   <span class="p">|</span> QEMU            <span class="p">|</span> &lt;server <span class="m">1</span> IP&gt; <span class="p">|</span> up    <span class="p">|</span>
<span class="p">|</span>  <span class="m">2</span> <span class="p">|</span> server2                   <span class="p">|</span> QEMU            <span class="p">|</span> &lt;server <span class="m">2</span> IP&gt; <span class="p">|</span> up    <span class="p">|</span>
+----+---------------------------+-----------------+---------------+-------+
</pre></div>
</div>
<p>If host is not mapped to any cell, use below command to rediscover the host.</p>
</li>
<li><p>Create VM instances on the certain host</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ openstack server create --flavor &lt;flavor name&gt; --image &lt;image ID&gt;  --availability-zone nova:&lt;hostname&gt; --nic port-id<span class="o">=</span>&lt;direct_port&gt; &lt;instance name&gt;
</pre></div>
</div>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ openstack server create --flavor 2 --image ubuntu --availability-zone nova:server1 --nic port-id=direct_port1 vm1
$ openstack server create --flavor 2 --image ubuntu --availability-zone nova:server1 --nic port-id=direct_port2 vm2
</pre></div>
</div>
</li>
<li><p>Connect to instance1 and send ICMP Echo Request packets to instance2</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>vm1# ping &lt;vm2 IP&gt;
</pre></div>
</div>
</li>
</ul>
</li>
</ul>
</section>
</section>
<section id="openstack-configuration-sample">
<h2>4 OpenStack Configuration Sample<a class="headerlink" href="#openstack-configuration-sample" title="Permalink to this heading">¶</a></h2>
<ul>
<li><p>Login to https://server1 to check the horizon GUI and dump the network topology</p>
<p>Default username:password is admin:nomoresecret</p>
<p><img alt="OpenStack Network Topology" src="../_images/openstack_topo_LowRes.png" />
<img alt="OpenStack Network Graph" src="../_images/openstack_graph_LowRes.png" /></p>
</li>
<li><p>Below is the configuration sample dumpped by OpenStack command line tool</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">(</span>openstack<span class="o">)</span> hypervisor list
+----+---------------------------+-----------------+---------------+-------+
<span class="p">|</span> ID <span class="p">|</span> Hypervisor Hostname       <span class="p">|</span> Hypervisor Type <span class="p">|</span> Host IP       <span class="p">|</span> State <span class="p">|</span>
+----+---------------------------+-----------------+---------------+-------+
<span class="p">|</span>  <span class="m">1</span> <span class="p">|</span> server1                   <span class="p">|</span> QEMU            <span class="p">|</span> &lt;server <span class="m">1</span> IP&gt; <span class="p">|</span> up    <span class="p">|</span>
<span class="p">|</span>  <span class="m">2</span> <span class="p">|</span> server2                   <span class="p">|</span> QEMU            <span class="p">|</span> &lt;server <span class="m">2</span> IP&gt; <span class="p">|</span> up    <span class="p">|</span>
+----+---------------------------+-----------------+---------------+-------+

<span class="o">(</span>openstack<span class="o">)</span> compute service list
+--------------------------------------+----------------+---------+----------+---------+-------+----------------------------+
<span class="p">|</span> ID                                   <span class="p">|</span> Binary         <span class="p">|</span> Host    <span class="p">|</span> Zone     <span class="p">|</span> Status  <span class="p">|</span> State <span class="p">|</span> Updated At                 <span class="p">|</span>
+--------------------------------------+----------------+---------+----------+---------+-------+----------------------------+
<span class="p">|</span> 53b216ed-3b68-4187-bc43-5d8156a666e8 <span class="p">|</span> nova-scheduler <span class="p">|</span> server1 <span class="p">|</span> internal <span class="p">|</span> enabled <span class="p">|</span> up    <span class="p">|</span> <span class="m">2023</span>-01-12T01:52:31.000000 <span class="p">|</span>
<span class="p">|</span> 3e97f027-3320-4a73-aed4-3c08aa06b5f1 <span class="p">|</span> nova-conductor <span class="p">|</span> server1 <span class="p">|</span> internal <span class="p">|</span> enabled <span class="p">|</span> up    <span class="p">|</span> <span class="m">2023</span>-01-12T01:52:33.000000 <span class="p">|</span>
<span class="p">|</span> 8afa5295-03f0-4de4-9f3f-0c63db719bc1 <span class="p">|</span> nova-conductor <span class="p">|</span> server1 <span class="p">|</span> internal <span class="p">|</span> enabled <span class="p">|</span> up    <span class="p">|</span> <span class="m">2023</span>-01-12T01:52:33.000000 <span class="p">|</span>
<span class="p">|</span> 21b79147-ef60-4d6a-bd4c-0cc26e1b6420 <span class="p">|</span> nova-compute   <span class="p">|</span> server1 <span class="p">|</span> nova     <span class="p">|</span> enabled <span class="p">|</span> up    <span class="p">|</span> <span class="m">2023</span>-01-12T01:52:34.000000 <span class="p">|</span>
<span class="p">|</span> <span class="m">95502539</span>-446e-4d7c-bda5-4c9796ef66d0 <span class="p">|</span> nova-compute   <span class="p">|</span> server2 <span class="p">|</span> nova     <span class="p">|</span> enabled <span class="p">|</span> up    <span class="p">|</span> <span class="m">2023</span>-01-12T01:52:27.000000 <span class="p">|</span>
+--------------------------------------+----------------+---------+----------+---------+-------+----------------------------+

<span class="o">(</span>openstack<span class="o">)</span> server list
+--------------------------------------+------+--------+-------------------+--------+-----------+
<span class="p">|</span> ID                                   <span class="p">|</span> Name <span class="p">|</span> Status <span class="p">|</span> Networks          <span class="p">|</span> Image  <span class="p">|</span> Flavor    <span class="p">|</span>
+--------------------------------------+------+--------+-------------------+--------+-----------+
<span class="p">|</span> 6b3356f3-5e23-450f-9a6e-14147990b0f2 <span class="p">|</span> vm2  <span class="p">|</span> ACTIVE <span class="p">|</span> <span class="nv">private</span><span class="o">=</span><span class="m">10</span>.0.0.39 <span class="p">|</span> ubuntu <span class="p">|</span> m1.large  <span class="p">|</span>
<span class="p">|</span> 24b8231e-0ae8-4581-a350-76231ba30ea3 <span class="p">|</span> vm1  <span class="p">|</span> ACTIVE <span class="p">|</span> <span class="nv">private</span><span class="o">=</span><span class="m">10</span>.0.0.52 <span class="p">|</span> ubuntu <span class="p">|</span> m1.xlarge <span class="p">|</span>
+--------------------------------------+------+--------+-------------------+--------+-----------+

<span class="o">(</span>openstack<span class="o">)</span> server show vm1
+-------------------------------------+----------------------------------------------------------+
<span class="p">|</span> Field                               <span class="p">|</span> Value                                                    <span class="p">|</span>
+-------------------------------------+----------------------------------------------------------+
<span class="p">|</span> OS-DCF:diskConfig                   <span class="p">|</span> MANUAL                                                   <span class="p">|</span>
<span class="p">|</span> OS-EXT-AZ:availability_zone         <span class="p">|</span> nova                                                     <span class="p">|</span>
<span class="p">|</span> OS-EXT-SRV-ATTR:host                <span class="p">|</span> server1                                                  <span class="p">|</span>
<span class="p">|</span> OS-EXT-SRV-ATTR:hypervisor_hostname <span class="p">|</span> server1                                                  <span class="p">|</span>
<span class="p">|</span> OS-EXT-SRV-ATTR:instance_name       <span class="p">|</span> instance-00000008                                        <span class="p">|</span>
<span class="p">|</span> OS-EXT-STS:power_state              <span class="p">|</span> Running                                                  <span class="p">|</span>
<span class="p">|</span> OS-EXT-STS:task_state               <span class="p">|</span> None                                                     <span class="p">|</span>
<span class="p">|</span> OS-EXT-STS:vm_state                 <span class="p">|</span> active                                                   <span class="p">|</span>
<span class="p">|</span> OS-SRV-USG:launched_at              <span class="p">|</span> <span class="m">2023</span>-01-11T09:32:25.000000                               <span class="p">|</span>
<span class="p">|</span> OS-SRV-USG:terminated_at            <span class="p">|</span> None                                                     <span class="p">|</span>
<span class="p">|</span> accessIPv4                          <span class="p">|</span>                                                          <span class="p">|</span>
<span class="p">|</span> accessIPv6                          <span class="p">|</span>                                                          <span class="p">|</span>
<span class="p">|</span> addresses                           <span class="p">|</span> <span class="nv">private</span><span class="o">=</span><span class="m">10</span>.0.0.52                                        <span class="p">|</span>
<span class="p">|</span> config_drive                        <span class="p">|</span>                                                          <span class="p">|</span>
<span class="p">|</span> created                             <span class="p">|</span> <span class="m">2023</span>-01-11T09:31:53Z                                     <span class="p">|</span>
<span class="p">|</span> flavor                              <span class="p">|</span> m1.xlarge <span class="o">(</span><span class="m">5</span><span class="o">)</span>                                            <span class="p">|</span>
<span class="p">|</span> hostId                              <span class="p">|</span> 87f48315a984ef8f0aad61eaec4435b5179468af66be9e984f820b68 <span class="p">|</span>
<span class="p">|</span> id                                  <span class="p">|</span> 24b8231e-0ae8-4581-a350-76231ba30ea3                     <span class="p">|</span>
<span class="p">|</span> image                               <span class="p">|</span> ubuntu <span class="o">(</span>5b4f747d-f778-430f-93fa-a4fff3f33223<span class="o">)</span>            <span class="p">|</span>
<span class="p">|</span> key_name                            <span class="p">|</span> None                                                     <span class="p">|</span>
<span class="p">|</span> name                                <span class="p">|</span> vm1                                                      <span class="p">|</span>
<span class="p">|</span> progress                            <span class="p">|</span> <span class="m">0</span>                                                        <span class="p">|</span>
<span class="p">|</span> project_id                          <span class="p">|</span> b9d3608c81a74b4a953146a302142c26                         <span class="p">|</span>
<span class="p">|</span> properties                          <span class="p">|</span>                                                          <span class="p">|</span>
<span class="p">|</span> security_groups                     <span class="p">|</span> <span class="nv">name</span><span class="o">=</span><span class="s1">&#39;default&#39;</span>                                           <span class="p">|</span>
<span class="p">|</span> status                              <span class="p">|</span> ACTIVE                                                   <span class="p">|</span>
<span class="p">|</span> updated                             <span class="p">|</span> <span class="m">2023</span>-01-11T09:32:26Z                                     <span class="p">|</span>
<span class="p">|</span> user_id                             <span class="p">|</span> d92a44031cbf4ff7840bd16c04b0c569                         <span class="p">|</span>
<span class="p">|</span> volumes_attached                    <span class="p">|</span>                                                          <span class="p">|</span>
+-------------------------------------+----------------------------------------------------------+
<span class="o">(</span>openstack<span class="o">)</span> server show vm2
+-------------------------------------+----------------------------------------------------------+
<span class="p">|</span> Field                               <span class="p">|</span> Value                                                    <span class="p">|</span>
+-------------------------------------+----------------------------------------------------------+
<span class="p">|</span> OS-DCF:diskConfig                   <span class="p">|</span> MANUAL                                                   <span class="p">|</span>
<span class="p">|</span> OS-EXT-AZ:availability_zone         <span class="p">|</span> nova                                                     <span class="p">|</span>
<span class="p">|</span> OS-EXT-SRV-ATTR:host                <span class="p">|</span> server2                                                  <span class="p">|</span>
<span class="p">|</span> OS-EXT-SRV-ATTR:hypervisor_hostname <span class="p">|</span> server2                                                  <span class="p">|</span>
<span class="p">|</span> OS-EXT-SRV-ATTR:instance_name       <span class="p">|</span> instance-0000000b                                        <span class="p">|</span>
<span class="p">|</span> OS-EXT-STS:power_state              <span class="p">|</span> Running                                                  <span class="p">|</span>
<span class="p">|</span> OS-EXT-STS:task_state               <span class="p">|</span> None                                                     <span class="p">|</span>
<span class="p">|</span> OS-EXT-STS:vm_state                 <span class="p">|</span> active                                                   <span class="p">|</span>
<span class="p">|</span> OS-SRV-USG:launched_at              <span class="p">|</span> <span class="m">2023</span>-01-11T10:27:38.000000                               <span class="p">|</span>
<span class="p">|</span> OS-SRV-USG:terminated_at            <span class="p">|</span> None                                                     <span class="p">|</span>
<span class="p">|</span> accessIPv4                          <span class="p">|</span>                                                          <span class="p">|</span>
<span class="p">|</span> accessIPv6                          <span class="p">|</span>                                                          <span class="p">|</span>
<span class="p">|</span> addresses                           <span class="p">|</span> <span class="nv">private</span><span class="o">=</span><span class="m">10</span>.0.0.39                                        <span class="p">|</span>
<span class="p">|</span> config_drive                        <span class="p">|</span>                                                          <span class="p">|</span>
<span class="p">|</span> created                             <span class="p">|</span> <span class="m">2023</span>-01-11T10:27:30Z                                     <span class="p">|</span>
<span class="p">|</span> flavor                              <span class="p">|</span> m1.large <span class="o">(</span><span class="m">4</span><span class="o">)</span>                                             <span class="p">|</span>
<span class="p">|</span> hostId                              <span class="p">|</span> 5704a22af1b38b8ed0235f34e26cb050cd5fc0c63ab2964db8cb9c92 <span class="p">|</span>
<span class="p">|</span> id                                  <span class="p">|</span> 6b3356f3-5e23-450f-9a6e-14147990b0f2                     <span class="p">|</span>
<span class="p">|</span> image                               <span class="p">|</span> ubuntu <span class="o">(</span>5b4f747d-f778-430f-93fa-a4fff3f33223<span class="o">)</span>            <span class="p">|</span>
<span class="p">|</span> key_name                            <span class="p">|</span> None                                                     <span class="p">|</span>
<span class="p">|</span> name                                <span class="p">|</span> vm2                                                      <span class="p">|</span>
<span class="p">|</span> progress                            <span class="p">|</span> <span class="m">0</span>                                                        <span class="p">|</span>
<span class="p">|</span> project_id                          <span class="p">|</span> b9d3608c81a74b4a953146a302142c26                         <span class="p">|</span>
<span class="p">|</span> properties                          <span class="p">|</span>                                                          <span class="p">|</span>
<span class="p">|</span> security_groups                     <span class="p">|</span> <span class="nv">name</span><span class="o">=</span><span class="s1">&#39;default&#39;</span>                                           <span class="p">|</span>
<span class="p">|</span> status                              <span class="p">|</span> ACTIVE                                                   <span class="p">|</span>
<span class="p">|</span> updated                             <span class="p">|</span> <span class="m">2023</span>-01-11T10:27:39Z                                     <span class="p">|</span>
<span class="p">|</span> user_id                             <span class="p">|</span> d92a44031cbf4ff7840bd16c04b0c569                         <span class="p">|</span>
<span class="p">|</span> volumes_attached                    <span class="p">|</span>                                                          <span class="p">|</span>
+-------------------------------------+----------------------------------------------------------+

<span class="o">(</span>openstack<span class="o">)</span> network list
+--------------------------------------+---------+--------------------------------------+
<span class="p">|</span> ID                                   <span class="p">|</span> Name    <span class="p">|</span> Subnets                              <span class="p">|</span>
+--------------------------------------+---------+--------------------------------------+
<span class="p">|</span> 4b8396ce-f932-4f64-95d1-3b1274b606e6 <span class="p">|</span> public  <span class="p">|</span> 6a9ece87-cb33-4e92-b1cc-8335dbdf54c6 <span class="p">|</span>
<span class="p">|</span> ead66cda-b35a-4af0-bf90-5c3c1fca808f <span class="p">|</span> shared  <span class="p">|</span> 89bf2fcb-dc6b-4b13-811a-ee2a0cb145c5 <span class="p">|</span>
<span class="p">|</span> eb96370b-4063-4a4a-9151-39c941fffb83 <span class="p">|</span> private <span class="p">|</span> c9b0c2c8-5dd3-440f-b1d9-fed99d18849e <span class="p">|</span>
+--------------------------------------+---------+--------------------------------------+

<span class="o">(</span>openstack<span class="o">)</span> network show private
+---------------------------+--------------------------------------+
<span class="p">|</span> Field                     <span class="p">|</span> Value                                <span class="p">|</span>
+---------------------------+--------------------------------------+
<span class="p">|</span> admin_state_up            <span class="p">|</span> UP                                   <span class="p">|</span>
<span class="p">|</span> availability_zone_hints   <span class="p">|</span>                                      <span class="p">|</span>
<span class="p">|</span> availability_zones        <span class="p">|</span> nova                                 <span class="p">|</span>
<span class="p">|</span> created_at                <span class="p">|</span> <span class="m">2023</span>-01-11T05:29:39Z                 <span class="p">|</span>
<span class="p">|</span> description               <span class="p">|</span>                                      <span class="p">|</span>
<span class="p">|</span> dns_domain                <span class="p">|</span> None                                 <span class="p">|</span>
<span class="p">|</span> id                        <span class="p">|</span> eb96370b-4063-4a4a-9151-39c941fffb83 <span class="p">|</span>
<span class="p">|</span> ipv4_address_scope        <span class="p">|</span> None                                 <span class="p">|</span>
<span class="p">|</span> ipv6_address_scope        <span class="p">|</span> None                                 <span class="p">|</span>
<span class="p">|</span> is_default                <span class="p">|</span> None                                 <span class="p">|</span>
<span class="p">|</span> is_vlan_transparent       <span class="p">|</span> None                                 <span class="p">|</span>
<span class="p">|</span> mtu                       <span class="p">|</span> <span class="m">1450</span>                                 <span class="p">|</span>
<span class="p">|</span> name                      <span class="p">|</span> private                              <span class="p">|</span>
<span class="p">|</span> port_security_enabled     <span class="p">|</span> True                                 <span class="p">|</span>
<span class="p">|</span> project_id                <span class="p">|</span> b9d3608c81a74b4a953146a302142c26     <span class="p">|</span>
<span class="p">|</span> provider:network_type     <span class="p">|</span> vxlan                                <span class="p">|</span>
<span class="p">|</span> provider:physical_network <span class="p">|</span> None                                 <span class="p">|</span>
<span class="p">|</span> provider:segmentation_id  <span class="p">|</span> <span class="m">1358</span>                                 <span class="p">|</span>
<span class="p">|</span> qos_policy_id             <span class="p">|</span> None                                 <span class="p">|</span>
<span class="p">|</span> revision_number           <span class="p">|</span> <span class="m">2</span>                                    <span class="p">|</span>
<span class="p">|</span> router:external           <span class="p">|</span> Internal                             <span class="p">|</span>
<span class="p">|</span> segments                  <span class="p">|</span> None                                 <span class="p">|</span>
<span class="p">|</span> shared                    <span class="p">|</span> False                                <span class="p">|</span>
<span class="p">|</span> status                    <span class="p">|</span> ACTIVE                               <span class="p">|</span>
<span class="p">|</span> subnets                   <span class="p">|</span> c9b0c2c8-5dd3-440f-b1d9-fed99d18849e <span class="p">|</span>
<span class="p">|</span> tags                      <span class="p">|</span>                                      <span class="p">|</span>
<span class="p">|</span> updated_at                <span class="p">|</span> <span class="m">2023</span>-01-11T05:29:40Z                 <span class="p">|</span>
+---------------------------+--------------------------------------+
<span class="o">(</span>openstack<span class="o">)</span> network show public
+---------------------------+--------------------------------------+
<span class="p">|</span> Field                     <span class="p">|</span> Value                                <span class="p">|</span>
+---------------------------+--------------------------------------+
<span class="p">|</span> admin_state_up            <span class="p">|</span> UP                                   <span class="p">|</span>
<span class="p">|</span> availability_zone_hints   <span class="p">|</span>                                      <span class="p">|</span>
<span class="p">|</span> availability_zones        <span class="p">|</span> nova                                 <span class="p">|</span>
<span class="p">|</span> created_at                <span class="p">|</span> <span class="m">2023</span>-01-11T05:29:49Z                 <span class="p">|</span>
<span class="p">|</span> description               <span class="p">|</span>                                      <span class="p">|</span>
<span class="p">|</span> dns_domain                <span class="p">|</span> None                                 <span class="p">|</span>
<span class="p">|</span> id                        <span class="p">|</span> 4b8396ce-f932-4f64-95d1-3b1274b606e6 <span class="p">|</span>
<span class="p">|</span> ipv4_address_scope        <span class="p">|</span> None                                 <span class="p">|</span>
<span class="p">|</span> ipv6_address_scope        <span class="p">|</span> None                                 <span class="p">|</span>
<span class="p">|</span> is_default                <span class="p">|</span> True                                 <span class="p">|</span>
<span class="p">|</span> is_vlan_transparent       <span class="p">|</span> None                                 <span class="p">|</span>
<span class="p">|</span> mtu                       <span class="p">|</span> <span class="m">1500</span>                                 <span class="p">|</span>
<span class="p">|</span> name                      <span class="p">|</span> public                               <span class="p">|</span>
<span class="p">|</span> port_security_enabled     <span class="p">|</span> True                                 <span class="p">|</span>
<span class="p">|</span> project_id                <span class="p">|</span> c4dd2d393580489d9821e51f756814a4     <span class="p">|</span>
<span class="p">|</span> provider:network_type     <span class="p">|</span> flat                                 <span class="p">|</span>
<span class="p">|</span> provider:physical_network <span class="p">|</span> public                               <span class="p">|</span>
<span class="p">|</span> provider:segmentation_id  <span class="p">|</span> None                                 <span class="p">|</span>
<span class="p">|</span> qos_policy_id             <span class="p">|</span> None                                 <span class="p">|</span>
<span class="p">|</span> revision_number           <span class="p">|</span> <span class="m">2</span>                                    <span class="p">|</span>
<span class="p">|</span> router:external           <span class="p">|</span> External                             <span class="p">|</span>
<span class="p">|</span> segments                  <span class="p">|</span> None                                 <span class="p">|</span>
<span class="p">|</span> shared                    <span class="p">|</span> False                                <span class="p">|</span>
<span class="p">|</span> status                    <span class="p">|</span> ACTIVE                               <span class="p">|</span>
<span class="p">|</span> subnets                   <span class="p">|</span> 6a9ece87-cb33-4e92-b1cc-8335dbdf54c6 <span class="p">|</span>
<span class="p">|</span> tags                      <span class="p">|</span>                                      <span class="p">|</span>
<span class="p">|</span> updated_at                <span class="p">|</span> <span class="m">2023</span>-01-11T05:29:53Z                 <span class="p">|</span>
+---------------------------+--------------------------------------+


<span class="o">(</span>openstack<span class="o">)</span> port list
+--------------------------------------+--------------+-------------------+------------------------------------------------------------------------------+--------+
<span class="p">|</span> ID                                   <span class="p">|</span> Name         <span class="p">|</span> MAC Address       <span class="p">|</span> Fixed IP Addresses                                                           <span class="p">|</span> Status <span class="p">|</span>
+--------------------------------------+--------------+-------------------+------------------------------------------------------------------------------+--------+
<span class="p">|</span> 106930bf-7170-4d35-9a3f-e3c3b6596c4a <span class="p">|</span>              <span class="p">|</span> fa:16:3e:86:fb:66 <span class="p">|</span> <span class="nv">ip_address</span><span class="o">=</span><span class="s1">&#39;10.0.0.2&#39;</span>, <span class="nv">subnet_id</span><span class="o">=</span><span class="s1">&#39;c9b0c2c8-5dd3-440f-b1d9-fed99d18849e&#39;</span>      <span class="p">|</span> ACTIVE <span class="p">|</span>
<span class="p">|</span> 1acb4e56-4d2d-47ee-be9f-8cdcb21444b1 <span class="p">|</span>              <span class="p">|</span> fa:16:3e:99:3f:fe <span class="p">|</span> <span class="nv">ip_address</span><span class="o">=</span><span class="s1">&#39;192.168.2.114&#39;</span>, <span class="nv">subnet_id</span><span class="o">=</span><span class="s1">&#39;6a9ece87-cb33-4e92-b1cc-8335dbdf54c6&#39;</span> <span class="p">|</span> DOWN   <span class="p">|</span>
<span class="p">|</span> 2fd0af9f-92a7-4883-9ab1-322a25a122c8 <span class="p">|</span> direct_port1 <span class="p">|</span> fa:16:3e:64:61:db <span class="p">|</span> <span class="nv">ip_address</span><span class="o">=</span><span class="s1">&#39;10.0.0.52&#39;</span>, <span class="nv">subnet_id</span><span class="o">=</span><span class="s1">&#39;c9b0c2c8-5dd3-440f-b1d9-fed99d18849e&#39;</span>     <span class="p">|</span> ACTIVE <span class="p">|</span>
<span class="p">|</span> 845e5c57-74a3-409a-b072-fcbdcb2de989 <span class="p">|</span> direct_port2 <span class="p">|</span> fa:16:3e:b6:a6:11 <span class="p">|</span> <span class="nv">ip_address</span><span class="o">=</span><span class="s1">&#39;10.0.0.39&#39;</span>, <span class="nv">subnet_id</span><span class="o">=</span><span class="s1">&#39;c9b0c2c8-5dd3-440f-b1d9-fed99d18849e&#39;</span>     <span class="p">|</span> ACTIVE <span class="p">|</span>
<span class="p">|</span> b742df40-f426-4761-9acb-804e69f5b14f <span class="p">|</span>              <span class="p">|</span> fa:16:3e:f4:e2:f7 <span class="p">|</span> <span class="nv">ip_address</span><span class="o">=</span><span class="s1">&#39;10.0.0.1&#39;</span>, <span class="nv">subnet_id</span><span class="o">=</span><span class="s1">&#39;c9b0c2c8-5dd3-440f-b1d9-fed99d18849e&#39;</span>      <span class="p">|</span> DOWN   <span class="p">|</span>
<span class="p">|</span> d809f1a1-2c3f-4cb7-8883-48049195ebe7 <span class="p">|</span>              <span class="p">|</span> fa:16:3e:08:09:ed <span class="p">|</span> <span class="nv">ip_address</span><span class="o">=</span><span class="s1">&#39;192.168.233.2&#39;</span>, <span class="nv">subnet_id</span><span class="o">=</span><span class="s1">&#39;89bf2fcb-dc6b-4b13-811a-ee2a0cb145c5&#39;</span> <span class="p">|</span> ACTIVE <span class="p">|</span>
+--------------------------------------+--------------+-------------------+------------------------------------------------------------------------------+--------+
<span class="o">(</span>openstack<span class="o">)</span> port show direct_port1 -f table --fit-width
+-------------------------+--------------------------------------------------------------------------------------------------------------------------------+
<span class="p">|</span> Field                   <span class="p">|</span> Value                                                                                                                          <span class="p">|</span>
+-------------------------+--------------------------------------------------------------------------------------------------------------------------------+
<span class="p">|</span> admin_state_up          <span class="p">|</span> UP                                                                                                                             <span class="p">|</span>
<span class="p">|</span> allowed_address_pairs   <span class="p">|</span>                                                                                                                                <span class="p">|</span>
<span class="p">|</span> binding_host_id         <span class="p">|</span> server1                                                                                                                        <span class="p">|</span>
<span class="p">|</span> binding_profile         <span class="p">|</span> <span class="nv">capabilities</span><span class="o">=</span><span class="s1">&#39;[&#39;</span>switchdev<span class="s1">&#39;]&#39;</span>, <span class="nv">card_serial_number</span><span class="o">=</span><span class="s1">&#39;XFL1Y0JRZMSK&#39;</span>, <span class="nv">pci_slot</span><span class="o">=</span><span class="s1">&#39;0000:3b:00.3&#39;</span>, <span class="nv">pci_vendor_info</span><span class="o">=</span><span class="s1">&#39;1924:1b03&#39;</span>,         <span class="p">|</span>
<span class="p">|</span>                         <span class="p">|</span> <span class="nv">pf_mac_address</span><span class="o">=</span><span class="s1">&#39;00:0a:35:0d:b9:d0&#39;</span>, <span class="nv">physical_network</span><span class="o">=</span>, <span class="nv">vf_num</span><span class="o">=</span><span class="s1">&#39;1&#39;</span>                                                              <span class="p">|</span>
<span class="p">|</span> binding_vif_details     <span class="p">|</span> bound_drivers.0<span class="o">=</span><span class="s1">&#39;openvswitch&#39;</span>, <span class="nv">bridge_name</span><span class="o">=</span><span class="s1">&#39;br-int&#39;</span>, <span class="nv">connectivity</span><span class="o">=</span><span class="s1">&#39;l2&#39;</span>, <span class="nv">datapath_type</span><span class="o">=</span><span class="s1">&#39;system&#39;</span>, <span class="nv">ovs_hybrid_plug</span><span class="o">=</span><span class="s1">&#39;False&#39;</span>,       <span class="p">|</span>
<span class="p">|</span>                         <span class="p">|</span> <span class="nv">port_filter</span><span class="o">=</span><span class="s1">&#39;True&#39;</span>                                                                                                             <span class="p">|</span>
<span class="p">|</span> binding_vif_type        <span class="p">|</span> ovs                                                                                                                            <span class="p">|</span>
<span class="p">|</span> binding_vnic_type       <span class="p">|</span> direct                                                                                                                         <span class="p">|</span>
<span class="p">|</span> created_at              <span class="p">|</span> <span class="m">2023</span>-01-11T07:28:24Z                                                                                                           <span class="p">|</span>
<span class="p">|</span> data_plane_status       <span class="p">|</span> None                                                                                                                           <span class="p">|</span>
<span class="p">|</span> description             <span class="p">|</span>                                                                                                                                <span class="p">|</span>
<span class="p">|</span> device_id               <span class="p">|</span> 24b8231e-0ae8-4581-a350-76231ba30ea3                                                                                           <span class="p">|</span>
<span class="p">|</span> device_owner            <span class="p">|</span> compute:nova                                                                                                                   <span class="p">|</span>
<span class="p">|</span> device_profile          <span class="p">|</span> None                                                                                                                           <span class="p">|</span>
<span class="p">|</span> dns_assignment          <span class="p">|</span> None                                                                                                                           <span class="p">|</span>
<span class="p">|</span> dns_domain              <span class="p">|</span> None                                                                                                                           <span class="p">|</span>
<span class="p">|</span> dns_name                <span class="p">|</span> None                                                                                                                           <span class="p">|</span>
<span class="p">|</span> extra_dhcp_opts         <span class="p">|</span>                                                                                                                                <span class="p">|</span>
<span class="p">|</span> fixed_ips               <span class="p">|</span> <span class="nv">ip_address</span><span class="o">=</span><span class="s1">&#39;10.0.0.52&#39;</span>, <span class="nv">subnet_id</span><span class="o">=</span><span class="s1">&#39;c9b0c2c8-5dd3-440f-b1d9-fed99d18849e&#39;</span>                                                       <span class="p">|</span>
<span class="p">|</span> id                      <span class="p">|</span> 2fd0af9f-92a7-4883-9ab1-322a25a122c8                                                                                           <span class="p">|</span>
<span class="p">|</span> ip_allocation           <span class="p">|</span> None                                                                                                                           <span class="p">|</span>
<span class="p">|</span> mac_address             <span class="p">|</span> fa:16:3e:64:61:db                                                                                                              <span class="p">|</span>
<span class="p">|</span> name                    <span class="p">|</span> direct_port1                                                                                                                   <span class="p">|</span>
<span class="p">|</span> network_id              <span class="p">|</span> eb96370b-4063-4a4a-9151-39c941fffb83                                                                                           <span class="p">|</span>
<span class="p">|</span> numa_affinity_policy    <span class="p">|</span> None                                                                                                                           <span class="p">|</span>
<span class="p">|</span> port_security_enabled   <span class="p">|</span> True                                                                                                                           <span class="p">|</span>
<span class="p">|</span> project_id              <span class="p">|</span> b9d3608c81a74b4a953146a302142c26                                                                                               <span class="p">|</span>
<span class="p">|</span> propagate_uplink_status <span class="p">|</span> None                                                                                                                           <span class="p">|</span>
<span class="p">|</span> qos_network_policy_id   <span class="p">|</span> None                                                                                                                           <span class="p">|</span>
<span class="p">|</span> qos_policy_id           <span class="p">|</span> None                                                                                                                           <span class="p">|</span>
<span class="p">|</span> resource_request        <span class="p">|</span> None                                                                                                                           <span class="p">|</span>
<span class="p">|</span> revision_number         <span class="p">|</span> <span class="m">21</span>                                                                                                                             <span class="p">|</span>
<span class="p">|</span> security_group_ids      <span class="p">|</span> d8577903-067b-4ea0-911d-ba20dabdafb9                                                                                           <span class="p">|</span>
<span class="p">|</span> status                  <span class="p">|</span> ACTIVE                                                                                                                         <span class="p">|</span>
<span class="p">|</span> tags                    <span class="p">|</span>                                                                                                                                <span class="p">|</span>
<span class="p">|</span> trunk_details           <span class="p">|</span> None                                                                                                                           <span class="p">|</span>
<span class="p">|</span> updated_at              <span class="p">|</span> <span class="m">2023</span>-01-11T09:32:19Z                                                                                                           <span class="p">|</span>
+-------------------------+--------------------------------------------------------------------------------------------------------------------------------+
<span class="o">(</span>openstack<span class="o">)</span> port show direct_port2 -f table --fit-width
+-------------------------+--------------------------------------------------------------------------------------------------------------------------------+
<span class="p">|</span> Field                   <span class="p">|</span> Value                                                                                                                          <span class="p">|</span>
+-------------------------+--------------------------------------------------------------------------------------------------------------------------------+
<span class="p">|</span> admin_state_up          <span class="p">|</span> UP                                                                                                                             <span class="p">|</span>
<span class="p">|</span> allowed_address_pairs   <span class="p">|</span>                                                                                                                                <span class="p">|</span>
<span class="p">|</span> binding_host_id         <span class="p">|</span> server2                                                                                                                        <span class="p">|</span>
<span class="p">|</span> binding_profile         <span class="p">|</span> <span class="nv">capabilities</span><span class="o">=</span><span class="s1">&#39;[&#39;</span>switchdev<span class="s1">&#39;]&#39;</span>, <span class="nv">card_serial_number</span><span class="o">=</span><span class="s1">&#39;XFL11BYHGMCY&#39;</span>, <span class="nv">pci_slot</span><span class="o">=</span><span class="s1">&#39;0000:af:00.3&#39;</span>, <span class="nv">pci_vendor_info</span><span class="o">=</span><span class="s1">&#39;1924:1b03&#39;</span>,         <span class="p">|</span>
<span class="p">|</span>                         <span class="p">|</span> <span class="nv">pf_mac_address</span><span class="o">=</span><span class="s1">&#39;00:0a:35:0d:b1:60&#39;</span>, <span class="nv">physical_network</span><span class="o">=</span>, <span class="nv">vf_num</span><span class="o">=</span><span class="s1">&#39;1&#39;</span>                                                              <span class="p">|</span>
<span class="p">|</span> binding_vif_details     <span class="p">|</span> bound_drivers.0<span class="o">=</span><span class="s1">&#39;openvswitch&#39;</span>, <span class="nv">bridge_name</span><span class="o">=</span><span class="s1">&#39;br-int&#39;</span>, <span class="nv">connectivity</span><span class="o">=</span><span class="s1">&#39;l2&#39;</span>, <span class="nv">datapath_type</span><span class="o">=</span><span class="s1">&#39;system&#39;</span>, <span class="nv">ovs_hybrid_plug</span><span class="o">=</span><span class="s1">&#39;False&#39;</span>,       <span class="p">|</span>
<span class="p">|</span>                         <span class="p">|</span> <span class="nv">port_filter</span><span class="o">=</span><span class="s1">&#39;True&#39;</span>                                                                                                             <span class="p">|</span>
<span class="p">|</span> binding_vif_type        <span class="p">|</span> ovs                                                                                                                            <span class="p">|</span>
<span class="p">|</span> binding_vnic_type       <span class="p">|</span> direct                                                                                                                         <span class="p">|</span>
<span class="p">|</span> created_at              <span class="p">|</span> <span class="m">2023</span>-01-11T08:07:16Z                                                                                                           <span class="p">|</span>
<span class="p">|</span> data_plane_status       <span class="p">|</span> None                                                                                                                           <span class="p">|</span>
<span class="p">|</span> description             <span class="p">|</span>                                                                                                                                <span class="p">|</span>
<span class="p">|</span> device_id               <span class="p">|</span> 6b3356f3-5e23-450f-9a6e-14147990b0f2                                                                                           <span class="p">|</span>
<span class="p">|</span> device_owner            <span class="p">|</span> compute:nova                                                                                                                   <span class="p">|</span>
<span class="p">|</span> device_profile          <span class="p">|</span> None                                                                                                                           <span class="p">|</span>
<span class="p">|</span> dns_assignment          <span class="p">|</span> None                                                                                                                           <span class="p">|</span>
<span class="p">|</span> dns_domain              <span class="p">|</span> None                                                                                                                           <span class="p">|</span>
<span class="p">|</span> dns_name                <span class="p">|</span> None                                                                                                                           <span class="p">|</span>
<span class="p">|</span> extra_dhcp_opts         <span class="p">|</span>                                                                                                                                <span class="p">|</span>
<span class="p">|</span> fixed_ips               <span class="p">|</span> <span class="nv">ip_address</span><span class="o">=</span><span class="s1">&#39;10.0.0.39&#39;</span>, <span class="nv">subnet_id</span><span class="o">=</span><span class="s1">&#39;c9b0c2c8-5dd3-440f-b1d9-fed99d18849e&#39;</span>                                                       <span class="p">|</span>
<span class="p">|</span> id                      <span class="p">|</span> 845e5c57-74a3-409a-b072-fcbdcb2de989                                                                                           <span class="p">|</span>
<span class="p">|</span> ip_allocation           <span class="p">|</span> None                                                                                                                           <span class="p">|</span>
<span class="p">|</span> mac_address             <span class="p">|</span> fa:16:3e:b6:a6:11                                                                                                              <span class="p">|</span>
<span class="p">|</span> name                    <span class="p">|</span> direct_port2                                                                                                                   <span class="p">|</span>
<span class="p">|</span> network_id              <span class="p">|</span> eb96370b-4063-4a4a-9151-39c941fffb83                                                                                           <span class="p">|</span>
<span class="p">|</span> numa_affinity_policy    <span class="p">|</span> None                                                                                                                           <span class="p">|</span>
<span class="p">|</span> port_security_enabled   <span class="p">|</span> True                                                                                                                           <span class="p">|</span>
<span class="p">|</span> project_id              <span class="p">|</span> b9d3608c81a74b4a953146a302142c26                                                                                               <span class="p">|</span>
<span class="p">|</span> propagate_uplink_status <span class="p">|</span> None                                                                                                                           <span class="p">|</span>
<span class="p">|</span> qos_network_policy_id   <span class="p">|</span> None                                                                                                                           <span class="p">|</span>
<span class="p">|</span> qos_policy_id           <span class="p">|</span> None                                                                                                                           <span class="p">|</span>
<span class="p">|</span> resource_request        <span class="p">|</span> None                                                                                                                           <span class="p">|</span>
<span class="p">|</span> revision_number         <span class="p">|</span> <span class="m">18</span>                                                                                                                             <span class="p">|</span>
<span class="p">|</span> security_group_ids      <span class="p">|</span> d8577903-067b-4ea0-911d-ba20dabdafb9                                                                                           <span class="p">|</span>
<span class="p">|</span> status                  <span class="p">|</span> ACTIVE                                                                                                                         <span class="p">|</span>
<span class="p">|</span> tags                    <span class="p">|</span>                                                                                                                                <span class="p">|</span>
<span class="p">|</span> trunk_details           <span class="p">|</span> None                                                                                                                           <span class="p">|</span>
<span class="p">|</span> updated_at              <span class="p">|</span> <span class="m">2023</span>-01-11T10:27:34Z                                                                                                           <span class="p">|</span>
+-------------------------+--------------------------------------------------------------------------------------------------------------------------------+
</pre></div>
</div>
</li>
</ul>
</section>
</section>


           </div>
           
          </div>
          <footer>
<!-- Atalwar: Moved the footer code to layout.html to resolve conflict with the Xilinx template -->
</footer>

        </div>
      </div>


	  <!-- Sphinx Page Footer block -->
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="ug1534-vminstall.html" class="btn btn-neutral float-left" title="APPENDIX B VM Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo" class="copyright">
    <p class="footerinfo">
      <span class="lastupdated">
        Last updated on Oct 17, 2023.
      </span>

    </p>
	<br>
  </div>
      </div>
    </section>


  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

   <script type="text/javascript">
    jQuery(function() { Search.loadIndex("searchindex.js"); });
  </script>

  <script type="text/javascript" id="searchindexloader"></script>


  
  
    
  



  <!--  Xilinx template footer block -->
							</div>
						</div>
					</div>
				</div>
				<div class="xilinxExperienceFragments experiencefragment aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
					<div class="xf-content-height">
						<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
							<div class="footer parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
								<noindex>
                  <!-- make footer fixed - NileshP -->
                  <style>
                        .footer {
                        position: fixed;
                        left: 0;
                        bottom: 0;
                        width: 100%;
                        }
                  </style>
                  <!-- make footer fixed NileshP-->
									<footer>
										<div class="aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid sub-footer">
													<div class="row">
														<div class="footerSocial parbase">
														
															<div class="col-md-push-6 col-lg-push-6 col-md-6 col-lg-6">
																<div class="lang-select dropup hidden-md hidden-lg">
		<button data-toggle="dropdown">
			<span class="fas fa-globe" aria-hidden="true"></span>
			<span>
				
					English
				</span>
		<span class="far fa-angle-down" aria-hidden="true"></span>
	</button>
	<ul class="dropdown-menu">
		<li>
				<a target="_blank" href="https://japan.xilinx.com/" target="_self">
					日本語
				</a>
			</li>
		<li>
				<a target="_blank" href="https://china.xilinx.com/" target="_self">
					简体中文
				</a>
			</li>
		</ul>
	</div>
																<ul class="list-inline pull-right social-menu">
																	<li>
																		<a target="_blank" href="https://www.linkedin.com/company/xilinx">
																		<span class="linkedin icon"></span>
																		<span class="sr-only">Connect on LinkedIn</span>
																		</a>
																	</li>
																	<li>
																		<a target="_blank" href="https://www.twitter.com/XilinxInc">
																		<span class="twitter icon"></span>
																		<span class="sr-only">Follow us on Twitter</span>
																		</a>
																	</li>
																	<li>
																		<a target="_blank" href="https://www.facebook.com/XilinxInc">
																		<span class="facebook icon"></span>
																		<span class="sr-only">Connect on Facebook</span>
																		</a>
																	</li>
																	<li>
																		<a target="_blank" href="https://www.youtube.com/XilinxInc">
																		<span class="youtube icon"></span>
																		<span class="sr-only">Watch us on YouTube</span>
																		</a>
																	</li>
																	<li>
																		<a target="_blank" href="https://www.xilinx.com/registration/subscriber-signup.html">
																		<span class="newsletter icon"></span>
																		<span class="sr-only">Subscribe to Newsletter</span>
																		</a>
																	</li>
																</ul>
																	<div class="lang-select dropup hidden-xs hidden-sm">
	<button data-toggle="dropdown">
		<span class="fas fa-globe" aria-hidden="true"></span>
		<span>
			
				English
			</span>
		<span class="far fa-angle-down" aria-hidden="true"></span>
	</button>
	<ul class="dropdown-menu">
		<li>
				<a target="_blank" href="https://japan.xilinx.com/" target="_self">
					日本語
				</a>
			</li>
		<li>
				<a target="_blank" href="https://china.xilinx.com/" target="_self">
					简体中文
				</a>
			</li>
		</ul>
	</div>
															</div>
														</div>
														<div class="col-md-pull-5 col-lg-pull-5 col-md-5 col-lg-5">
															<span class="copyright">©2023 Advanced Micro Devices, Inc</span>
														</div>

													</div>
													                    <div class="movethisrowtoleft row">
                        <div class="col-xs-24">
                            <ul class="sub-menu">
                                <li><a target="_blank" href="https://www.amd.com/en/corporate/copyright">Terms and Conditions</a></li>
                                <li><a target="_blank" href="https://www.amd.com/en/corporate/privacy">Privacy</a></li>
                                <li><a target="_blank" href="https://www.amd.com/en/corporate/cookies">Cookie Policy</a></li>
                                <li><a target="_blank" href="https://www.amd.com/en/corporate/trademarks">Trademarks</a></li>
                                <li><a target="_blank" href="https://www.amd.com/system/files/documents/statement-human-trafficking-forced-labor.pdf">Statement on Forced Labor</a></li>
                                <li><a target="_blank" href="https://www.amd.com/en/corporate/competition">Fair and Open Competition</a></li>
                                <li><a target="_blank" href="https://www.amd.com/system/files/documents/amd-uk-tax-strategy.pdf">UK Tax Strategy</a></li>
								<li><a target="_blank" href="https://docs.xilinx.com/v/u/9x6YvZKuWyhJId7y7RQQKA">Inclusive Terminology</a></li>
                                <li><a href="#cookiessettings" class="ot-sdk-show-settings">Cookies Settings</a></li>
                            </ul>
                        </div>
                    </div>
												</div>
											</div>
										</div>
									</footer>
								</noindex>
							</div>
						</div>
					</div>
				</div>
<div class="backToTop parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16"><noindex>
    <span data-component="backToTopButton" class="backToTopButton loaded">
        <ul>
            <li>
                <a href="https://www.author.xilinx.com/xx/rebrand/amd/en-amd-xilinx-header-footer.html#top" class="btn top">
                    <span class="fas fa-angle-up" aria-hidden="true"></span>
                </a>
            </li>
        </ul>
    </span>
</noindex></div>
			</div>
		</div>


		<script>window.CQ = window.CQ || {}</script>
		<script src="https://static.cloud.coveo.com/searchui/v2.4382/js/CoveoJsSearch.Lazy.min.js"></script>
		<script>
			var underscoreSetup = function () {
			  _.templateSettings.interpolate = /\{\{=([^-][\S\s]+?)\}\}/g;
			  _.templateSettings.evaluate = /\{\{([^-=][\S\s]+?)\}\}/g;
			  _.templateSettings.escape = /\{\{-([^=][\S\s]+?)\}\}/g;
			}

			underscoreSetup();
		</script>
	</body>
</html>